import{defineCustomElement as t}from"@titsoft/dry-html";const e=Object.getOwnPropertyDescriptors(Response.prototype),n=t=>"function"==typeof t,r={get:(t,r)=>e.hasOwnProperty(r)?((t,e,{get:r,value:s})=>r||!n(s)?t.then((t=>t[e])):(...n)=>t.then((t=>t[e](...n))))(t,r,e[r]):((t,e)=>n(e)?e.bind(t):e)(t,t[r])};
/*! (c) Andrea Giammarchi - ISC */
const s=(()=>{const t="DOMContentLoaded",e=new WeakMap,n=[],r=t=>{do{if(t.nextSibling)return!0}while(t=t.parentNode);return!1},s=()=>{n.splice(0).forEach((t=>{!0!==e.get(t[0])&&(e.set(t[0],!0),t[0][t[1]]())}))};document.addEventListener(t,s);class i extends HTMLElement{static withParsedCallback(i,a="parsed"){const{prototype:c}=i,{connectedCallback:o}=c,l=a+"Callback",u=(e,n,r,s)=>{n.disconnect(),r.removeEventListener(t,s),h(e)},h=t=>{n.length||requestAnimationFrame(s),n.push([t,l])};return Object.defineProperties(c,{connectedCallback:{configurable:!0,writable:!0,value(){if(o&&o.apply(this,arguments),l in this&&!e.has(this)){const n=this,{ownerDocument:s}=n;if(e.set(n,!1),"complete"===s.readyState||r(n))h(n);else{const e=()=>u(n,i,s,e);s.addEventListener(t,e);const i=new MutationObserver((()=>{r(n)&&u(n,i,s,e)}));i.observe(n.parentNode,{childList:!0,subtree:!0})}}}},[a]:{configurable:!0,get(){return!0===e.get(this)}}}),i}}return i.withParsedCallback(i)})();customElements.define("layout-m",class extends s{constructor(){super()}parsedCallback(){this.style.display="block",async function(t){const e=t.getAttribute("source");if(!e)return;const n=await async function(t){const e=document.getElementById(t);if(e)try{return JSON.parse(e.textContent)}catch(t){return!1}else try{return await((t,...e)=>new Proxy(fetch(t,...e),r))(t).json()}catch(t){return!1}}(e);if(!n)return;t.data=n}(this),this.hasAttribute("level-up")&&setTimeout((()=>this.replaceWith(...this.children)))}set data(e){const n=this.getAttribute("template");try{t(n)}catch(t){}this.innerHTML=this.createList(n,e)}createList(t,e){return e.map((e=>`\n                    <${t}\n                        ${function(t){return Object.entries(t).map((([t,e])=>`t-${t}="${e}"`))}(e).join("\n")}\n                    ></${t}>\n                `)).join("\n")}});
